<html>
    <head>
        <title>
            Drawer
        </title>
    </head>
    <body>
        <p id='text1'>Here will be the drawer coordinates</p>
        <p id='text2'>Here will be the drawer mouse reaction</p>
        <canvas height="300" width="600" id="canvas", style="background-color:'white'; border: 1px solid #000;"></canvas>
        <script>
            let canv = document.getElementById("canvas");
            ctx = canv.getContext('2d');
            
            for (let x = 0.5; x < canv.width; x += 10) {
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canv.height);
            }
            for (let y = 0.5; y < canv.height; y += 10) {
                ctx.moveTo(0, y);
                ctx.lineTo(canv.width, y);
            }
            ctx.strokeStyle = '#eee';
            ctx.stroke();
            let box = canv.getBoundingClientRect();
            
            function showCoords (e) {
                let canvas_x = e.clientX - box.left;
                let canvas_y = e.clientY - box.top;
                t = document.getElementById("text1");
                t.innerHTML = `Coordinates: ${canvas_x}, ${canvas_y}`;
            }
            canvas.addEventListener('mousemove', showCoords);

            function onMouseMove(e) {
                let canvas_x = e.clientX - box.left;
                let canvas_y = e.clientY - box.top;
                ctx.beginPath();
                ctx.moveTo(canvas_x, canvas_y);
                ctx.lineTo(canv.width/2, canv.height/2);
                ctx.strokeStyle = 'rgba(255,0,0,0.3)';
                ctx.stroke();
            }

            canvas.onmousedown = function () {
                t2 = document.getElementById("text2");
                t2.innerHTML = 'Mouse is pressed';
                canvas.addEventListener('mousemove', onMouseMove);
            }
            canvas.onmouseup = function () {
                t2 = document.getElementById("text2");
                t2.innerHTML = 'Mouse is released';
                canvas.removeEventListener('mousemove', onMouseMove);
            }
        </script>
    </body>
</html>